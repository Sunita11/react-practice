(this["webpackJsonpstarter-project"]=this["webpackJsonpstarter-project"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(4),r=a.n(s),o=(a(12),a(2)),i=a(5),u=a(7),d=a(6),l=(a(13),"hazardous"),m="very-unhealthy",h="unhealthy",b="unhealthy-for-sensitive-groups",p="moderate",g=a.p+"static/media/ahmedabad.a23927de.svg",j=a.p+"static/media/bengaluru.2f57a5d7.svg",v=a.p+"static/media/chennai.42e922e0.svg",f=a.p+"static/media/delhi.75d9be14.svg",O=a.p+"static/media/hyderabad.1ca866a5.svg",w=a.p+"static/media/kolkata.2fce14d0.svg",y=a.p+"static/media/mumbai.3125d285.svg",k=a.p+"static/media/pune.b4bde8f6.svg",x=a.p+"static/media/city.0a071b0d.jpg",C=function e(){Object(o.a)(this,e)};C.getIndexLevelClass=function(e){switch(!0){case e>300:return l;case e>200:return m;case e>150:return h;case e>100:return b;case e>50:return p;default:return""}},C.getImageResource=function(e){switch(e){case"ahmedabad":return g;case"bengaluru":return j;case"chennai":return v;case"delhi":return f;case"hyderabad":return O;case"kolkata":return w;case"mumbai":return y;case"pune":return k;default:return x}},C.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},C.getColor=function(){return"rgba("+C.getRandomInt(0,255)+","+C.getRandomInt(0,255)+","+C.getRandomInt(0,255)+", 0.15)"};var S=C,I=a(0),N=function(e){return Object(I.jsxs)("div",{className:"aqi-wrapper",children:[Object(I.jsxs)("div",{className:"table-header",children:[Object(I.jsx)("span",{children:"Cities"}),Object(I.jsx)("span",{children:"AQI"})]}),Object(I.jsx)("div",{className:"table-body",children:null!=e.data&&e.data.length>0?e.data.map((function(e){return function(e){var t=e.city,a=e.aqi,n=S.getIndexLevelClass(Math.floor(a)),c="".concat(t.toLowerCase());return Object(I.jsxs)("div",{className:"cell-data",style:{backgroundColor:"".concat(S.getColor())},children:[Object(I.jsx)("div",{className:"city-image-wrapper",children:Object(I.jsx)("img",{src:S.getImageResource(c),alt:c})}),Object(I.jsx)("span",{className:"city-name",children:t}),Object(I.jsx)("span",{className:"city-aqi ".concat(n),children:parseFloat(a).toFixed(2)})]},t.toLowerCase())}(e)})):Object(I.jsx)("div",{className:"empty-state",children:"No Data available"})})]})},F=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).timeout=250,n.connect=function(){var e,t="https:"===window.location.protocol?"wss":"ws",a="".concat(t,"://city-ws.herokuapp.com/"),c=new WebSocket(a);c.onopen=function(){console.log("connected websocket main component"),n.setState({ws:c}),n.timeout=250,clearTimeout(e)},c.onmessage=function(e){var t=JSON.parse(e.data);n.setState({dataFromServer:t})},c.onclose=function(t){console.log("Socket is closed. Reconnect will be attempted in ".concat(Math.min(10,(n.timeout+n.timeout)/1e3)," second."),t.reason),n.timeout=n.timeout+n.timeout,e=setTimeout(n.check,Math.min(1e4,n.timeout))},c.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),c.close()}},n.check=function(){var e=n.state.ws;e&&e.readyState!==WebSocket.CLOSED||n.connect()},n.state={ws:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.connect()}},{key:"render",value:function(){var e=this.state.dataFromServer;return Object(I.jsx)("div",{children:Object(I.jsx)(N,{data:e})})}}]),a}(c.a.Component),L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(F,{})}),document.getElementById("root")),L()}},[[15,1,2]]]);
//# sourceMappingURL=main.bb5e5f70.chunk.js.map