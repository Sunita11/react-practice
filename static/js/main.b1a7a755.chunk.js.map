{"version":3,"sources":["utility/constant.js","images/ahmedabad.svg","images/bengaluru.svg","images/chennai.svg","images/delhi.svg","images/hyderabad.svg","images/kolkata.svg","images/mumbai.svg","images/pune.svg","images/city.jpg","utility/utils.js","component/aqi/aqi.js","component/aqi-info/info.js","component/main/main.js","reportWebVitals.js","index.js"],"names":["ClassNameForIndexLevel","Utils","getIndexLevelClass","index","getImageResource","city","ahmedabad","bengaluru","chennai","delhi","hyderabad","kolkata","mumbai","pune","defaultImg","getRandomInt","min","max","Math","floor","random","getColor","AQI","props","className","data","length","map","item","cellData","aqi","indexLevelClass","cityName","toLowerCase","style","backgroundColor","src","alt","parseFloat","toFixed","_getTableCell","AQIInfo","class","scope","id","Main","timeout","connect","connectInterval","protocol","window","location","pathWS","ws","WebSocket","onopen","console","log","setState","clearTimeout","onmessage","evt","message","JSON","parse","dataFromServer","onclose","e","reason","setTimeout","check","onerror","err","error","close","state","readyState","CLOSED","this","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b1a7a755.chunk.js","sourcesContent":["export const ClassNameForIndexLevel = {\n  hazardous: \"hazardous\",\n  veryUnhealthy: \"very-unhealthy\",\n  unhealthy: \"unhealthy\",\n  unhealthyForSensitiveGroups: \"unhealthy-for-sensitive-groups\",\n  moderate: \"moderate\",\n  good: \"good\",\n};\n","export default __webpack_public_path__ + \"static/media/ahmedabad.a23927de.svg\";","export default __webpack_public_path__ + \"static/media/bengaluru.2f57a5d7.svg\";","export default __webpack_public_path__ + \"static/media/chennai.42e922e0.svg\";","export default __webpack_public_path__ + \"static/media/delhi.75d9be14.svg\";","export default __webpack_public_path__ + \"static/media/hyderabad.1ca866a5.svg\";","export default __webpack_public_path__ + \"static/media/kolkata.2fce14d0.svg\";","export default __webpack_public_path__ + \"static/media/mumbai.3125d285.svg\";","export default __webpack_public_path__ + \"static/media/pune.b4bde8f6.svg\";","export default __webpack_public_path__ + \"static/media/city.0a071b0d.jpg\";","import { ClassNameForIndexLevel } from \"./constant\";\nimport ahmedabad from \"./../images/ahmedabad.svg\";\nimport bengaluru from \"./../images/bengaluru.svg\";\nimport chennai from \"./../images/chennai.svg\";\nimport delhi from \"./../images/delhi.svg\";\nimport hyderabad from \"./../images/hyderabad.svg\";\nimport kolkata from \"./../images/kolkata.svg\";\nimport mumbai from \"./../images/mumbai.svg\";\nimport pune from \"./../images/pune.svg\";\nimport defaultImg from \"./../images/city.jpg\";\n\nclass Utils {\n  /* \n        @function getIndexLevelClass: return class name based on index level\n        index: air quality index\n    */\n  static getIndexLevelClass = (index) => {\n    switch (true) {\n      case index > 300:\n        return ClassNameForIndexLevel.hazardous;\n      case index > 200:\n        return ClassNameForIndexLevel.veryUnhealthy;\n      case index > 150:\n        return ClassNameForIndexLevel.unhealthy;\n      case index > 100:\n        return ClassNameForIndexLevel.unhealthyForSensitiveGroups;\n      case index > 50:\n        return ClassNameForIndexLevel.moderate;\n      default:\n        return ClassNameForIndexLevel.good;\n    }\n  };\n\n  /* \n    @function _getImageResource: return image based on city name\n    city: city name\n*/\n\n  static getImageResource = (city) => {\n    switch (city) {\n      case \"ahmedabad\":\n        return ahmedabad;\n      case \"bengaluru\":\n        return bengaluru;\n      case \"chennai\":\n        return chennai;\n      case \"delhi\":\n        return delhi;\n      case \"hyderabad\":\n        return hyderabad;\n      case \"kolkata\":\n        return kolkata;\n      case \"mumbai\":\n        return mumbai;\n      case \"pune\":\n        return pune;\n      default:\n        return defaultImg;\n    }\n  };\n\n  static getRandomInt = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  };\n\n  static getColor = () => {\n    const r = this.getRandomInt(0, 255);\n    const g = this.getRandomInt(0, 255);\n    const b = this.getRandomInt(0, 255);\n    return \"rgba(\" + r + \",\" + g + \",\" + b + \", 0.15)\";\n  };\n}\n\nexport default Utils;\n","import React from \"react\";\nimport \"./style.css\";\nimport Utils from \"./../../utility/utils\";\n\nconst AQI = (props) => {\n  const _getTableCell = (cellData) => {\n    const { city, aqi } = cellData;\n    const indexLevelClass = Utils.getIndexLevelClass(Math.floor(aqi));\n    let cityName = `${city.toLowerCase()}`;\n    return (\n      <div\n        className=\"cell-data\"\n        style={{ backgroundColor: `${Utils.getColor()}` }}\n        key={city.toLowerCase()}\n      >\n        <div className=\"city-image-wrapper\">\n          <img src={Utils.getImageResource(cityName)} alt={cityName} />\n        </div>\n\n        <span className=\"city-name\">{city}</span>\n        <span className={`city-aqi ${indexLevelClass}`}>\n          {parseFloat(aqi).toFixed(2)}\n        </span>\n      </div>\n    );\n  };\n\n  const _getTableBody = () => {\n    let items = props.data.map((item) => _getTableCell(item));\n    return items;\n  };\n\n  return (\n    <div className=\"aqi-wrapper\">\n      <div className=\"table-header\">\n        <h1 className=\"heading_1\">Air Quality Index (AQI)</h1>\n      </div>\n      <div className=\"table-body\">\n        {props.data != null && props.data.length > 0 ? (\n          _getTableBody()\n        ) : (\n          <div className=\"empty-state\">\n            <h2 className=\"heading_2\">No Data available</h2>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AQI;\n","import React from \"react\";\nimport \"./style.css\";\nconst AQIInfo = () => {\n  return (\n    <div className=\"aqi-info-wrapper\">\n      <h2 class=\"heading_2\">AQI Basics for Ozone and Particle Pollution</h2>\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr className=\"thead-row\">\n            <th scope=\"col\">Daily AQI Color</th>\n            <th scope=\"col\">Levels of Concern</th>\n            <th scope=\"col\">Values of Index</th>\n            <th scope=\"col\">Description of Air Quality</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr className=\"aqi-good\">\n            <td>Green</td>\n            <td id=\"good\">Good</td>\n            <td>0 to 50</td>\n            <td>\n              Air quality is satisfactory, and air pollution poses little or no\n              risk.\n            </td>\n          </tr>\n          <tr className=\"aqi-moderate\">\n            <td>Yellow</td>\n            <td id=\"mod\">Moderate</td>\n            <td>51 to 100</td>\n            <td>\n              Air quality is acceptable. However, there may be a risk for some\n              people, particularly those who are unusually sensitive to air\n              pollution.\n            </td>\n          </tr>\n          <tr className=\"aqi-unhealthy-sens\">\n            <td>Orange</td>\n            <td id=\"sens\">Unhealthy for Sensitive Groups</td>\n            <td>101 to 150</td>\n            <td>\n              Members of sensitive groups may experience health effects. The\n              general public is less likely to be affected.\n            </td>\n          </tr>\n          <tr className=\"aqi-unhealthy\">\n            <td>Red</td>\n            <td id=\"unh\">Unhealthy</td>\n            <td>151 to 200</td>\n            <td>\n              Some members of the general public may experience health effects;\n              members of sensitive groups may experience more serious health\n              effects.\n            </td>\n          </tr>\n          <tr className=\"aqi-vunhealthy\">\n            <td>Purple</td>\n            <td id=\"vunh\">Very Unhealthy</td>\n            <td>201 to 300</td>\n            <td>\n              Health alert: The risk of health effects is increased for\n              everyone.\n            </td>\n          </tr>\n          <tr className=\"aqi-hazardous\">\n            <td>Maroon</td>\n            <td id=\"haz\">Hazardous</td>\n            <td>301 and higher</td>\n            <td>\n              Health warning of emergency conditions: everyone is more likely to\n              be affected.\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AQIInfo;\n","import React from \"react\";\nimport AQI from \"./../aqi/aqi\";\nimport AQIInfo from \"../aqi-info/info\";\nimport \"./style.css\";\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ws: null,\n    };\n  }\n\n  // single websocket instance for the own application and constantly trying to reconnect.\n  componentDidMount() {\n    this.connect();\n  }\n\n  timeout = 250; // Initial timeout duration as a class variable\n\n  /**\n   * @function connect\n   * This function establishes the connect with the websocket and also ensures constant reconnection if connection closes\n   */\n  connect = () => {\n    let protocol = window.location.protocol === \"https:\" ? \"wss\" : \"ws\";\n    let pathWS = `${protocol}://city-ws.herokuapp.com/`;\n    var ws = new WebSocket(pathWS);\n    var connectInterval;\n\n    // websocket onopen event listener\n    ws.onopen = () => {\n      console.log(\"connected websocket main component\");\n\n      this.setState({ ws: ws });\n\n      this.timeout = 250; // reset timer to 250 on open of websocket connection\n      clearTimeout(connectInterval); // clear Interval on on open of websocket connection\n    };\n\n    ws.onmessage = (evt) => {\n      const message = JSON.parse(evt.data);\n      this.setState({ dataFromServer: message });\n    };\n\n    // websocket onclose event listener\n    ws.onclose = (e) => {\n      console.log(\n        `Socket is closed. Reconnect will be attempted in ${Math.min(\n          10000 / 1000,\n          (this.timeout + this.timeout) / 1000\n        )} second.`,\n        e.reason\n      );\n\n      this.timeout = this.timeout + this.timeout; //increment retry interval\n      connectInterval = setTimeout(this.check, Math.min(10000, this.timeout)); //call check function after timeout\n    };\n\n    // websocket onerror event listener\n    ws.onerror = (err) => {\n      console.error(\n        \"Socket encountered error: \",\n        err.message,\n        \"Closing socket\"\n      );\n\n      ws.close();\n    };\n  };\n\n  check = () => {\n    const { ws } = this.state;\n    if (!ws || ws.readyState === WebSocket.CLOSED) this.connect(); //check if websocket instance is closed, if so call `connect` function.\n  };\n\n  render() {\n    const { dataFromServer } = this.state;\n    return (\n      <div className=\"container\">\n        <AQI data={dataFromServer} />\n        <AQIInfo />\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Main from \"./component/main/main\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Main />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}